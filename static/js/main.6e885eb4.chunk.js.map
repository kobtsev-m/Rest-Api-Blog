{"version":3,"sources":["api/utils.js","api/api.js","components/common/form/Field.jsx","components/common/form/SelectField.jsx","components/common/form/ImageField.jsx","components/common/loaders/Loaders.jsx","components/common/buttons/Buttons.jsx","components/content/posts/PostCreate/PostCreate.jsx","components/common/images/LoadImage.jsx","components/content/posts/PostDetail/PostDetail.jsx","redux/posts-reducer.js","components/content/posts/PostsList/PostCard.jsx","assets/img/postEmpty.jpg","components/content/posts/PostsList/PostsList.jsx","components/content/posts/Posts.jsx","redux/categories-reducer.js","components/content/categories/CategoriesList/CategoriesList.jsx","components/content/categories/Categories.jsx","components/content/Content.jsx","components/header/Header.jsx","App.js","redux/store.js","index.js"],"names":["fieldsObj","fieldNames","a","options","name","type","choices","map","choice","value","label","display_name","baseApi","get","then","response","data","f","id","axios","baseURL","headers","postsApi","postId","utils","actions","POST","values","selectFields","formData","parsedValues","FormData","Object","entries","key","item","append","reduce","postData","field","hasOwnProperty","v","Array","isArray","x","post","delete","categoriesApi","FormControl","handleChange","errors","submitted","props","Form","Group","controlId","Label","capitalize","required","Control","onChange","event","target","isValid","isInvalid","Feedback","Field","SelectField","fieldClass","fieldStyles","control","provided","borderColor","isMulti","action","styles","className","ImageField","handleDrag","e","preventDefault","stopPropagation","handleDragIn","dragCounter","dataTransfer","items","length","setState","dragging","handleDragOut","handleDrop","files","clearData","some","file","match","newImgsList","state","images","newImgsUrls","imagesUrls","URL","createObjectURL","handleDelete","idx","filter","_","i","newUrlsList","dropRef","React","createRef","div","this","current","addEventListener","removeEventListener","ref","imageUrl","style","backgroundImage","onClick","icon","faTimes","faCloudUploadAlt","multiple","htmlFor","Component","SpinnerWithText","Spinner","variant","BackButton","to","faChevronLeft","LoadButton","disabled","text","SubmitButton","PostForm","handleSubmit","submitting","onSubmit","rows","status","initialPostState","title","content","categories","PostCreate","redirect","catch","error","newValue","bind","LoadImage","handleLoad","loaded","height","backgroundSize","backgroundPosition","src","onLoadBg","PostDetail","loading","params","lastUpdated","Date","updated","lastUpdatedDate","toLocaleDateString","lastUpdatedTime","toTimeString","slice","large","SET_POSTS","DELETE_POST","initialState","posts","postsReducer","acc","push","mapDispatchToProps","deletePost","PostCard","onDelete","deleting","categoriesList","category","backgroundColor","small","Carousel","interval","image","Item","owner","username","connect","PostsList","setPosts","postForm","postsData","postsList","exact","path","render","component","SET_CATEGORIES","categoriesReducer","CategoriesList","setCategories","slug","Posts","categoriesData","Content","Categories","Header","faBlog","data-toggle","data-target","App","reducers","combineReducers","store","createStore","window","app","basename","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6e885eb4.chunk.js","sourcesContent":["import { baseApi } from './api';\r\n\r\nexport async function reduceSelectFields(fieldsObj, fieldNames) {\r\n  let options = {};\r\n  for (let name of fieldNames) {\r\n    if (fieldsObj[name].type === 'choice') {\r\n      options[name] = fieldsObj[name].choices.map((choice) => ({\r\n        value: choice.value,\r\n        label: choice.display_name\r\n      }));\r\n    } else if (fieldsObj[name].type === 'field') {\r\n      await baseApi.get(`${name}/`).then((response) => {\r\n        options[name] = response.data.map((f) => ({\r\n          value: f.id,\r\n          label: f.name\r\n        }));\r\n      });\r\n    }\r\n  }\r\n  return options;\r\n}\r\n\r\nexport function parseSelectFieldsData(data, selectFields) {\r\n  return Object.entries(data).reduce((postData, field) => {\r\n    if (selectFields.hasOwnProperty(field[0])) {\r\n      const [name, v] = field;\r\n      postData[name] = Array.isArray(v) ? v.map((x) => x.value) : v.value;\r\n    } else {\r\n      postData[field[0]] = field[1];\r\n    }\r\n    return postData;\r\n  }, {});\r\n}\r\n\r\nexport function toFormData(parsedValues) {\r\n  let formData = new FormData();\r\n  for (let [key, value] of Object.entries(parsedValues)) {\r\n    if (typeof value === 'object') {\r\n      for (let item of value) {\r\n        formData.append(key, item);\r\n      }\r\n    } else {\r\n      formData.append(key, value);\r\n    }\r\n  }\r\n  return formData;\r\n}\r\n","// Axios & utils\r\nimport * as axios from 'axios';\r\nimport * as utils from './utils';\r\n\r\n// Base API\r\nexport const baseApi = axios.create({\r\n  baseURL: 'http://127.0.0.1:8000/api/',\r\n  headers: {\r\n    'Content-type': 'application/json'\r\n  }\r\n});\r\n\r\nexport const postsApi = {\r\n  getPosts() {\r\n    return baseApi.get('posts/').then((response) => response.data);\r\n  },\r\n  getPost(postId) {\r\n    return baseApi.get(`posts/${postId}`).then((response) => response.data);\r\n  },\r\n  getSelectFieldsOptions(fieldNames) {\r\n    return baseApi\r\n      .options('posts/')\r\n      .then((response) =>\r\n        utils.reduceSelectFields(response.data.actions.POST, fieldNames)\r\n      );\r\n  },\r\n  createPost(values, options) {\r\n    const parsedValues = utils.parseSelectFieldsData(values, options);\r\n    const formData = utils.toFormData(parsedValues);\r\n    return baseApi.post('posts/', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n  },\r\n  deletePost(postId) {\r\n    return baseApi.delete(`posts/${postId}`);\r\n  }\r\n};\r\n\r\nexport const categoriesApi = {\r\n  getCategories() {\r\n    return baseApi.get('categories/');\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport { capitalize } from 'lodash';\r\n\r\nfunction FormControl({ handleChange, errors, submitted, ...props }) {\r\n  const handleChangeControl = (event) => {\r\n    handleChange({ [event.target.name]: event.target.value });\r\n  };\r\n  return (\r\n    <Form.Group controlId={`${props.name}Input`}>\r\n      <Form.Label>\r\n        {capitalize(props.name)}\r\n        {props.required ? '*' : ''}\r\n      </Form.Label>\r\n      <Form.Control\r\n        onChange={handleChangeControl}\r\n        isValid={submitted && !errors[props.name]}\r\n        isInvalid={!!errors[props.name]}\r\n        {...props}\r\n      ></Form.Control>\r\n      <Form.Control.Feedback>Looks Good!</Form.Control.Feedback>\r\n      <Form.Control.Feedback type=\"invalid\">\r\n        {errors[props.name]}\r\n      </Form.Control.Feedback>\r\n    </Form.Group>\r\n  );\r\n}\r\n\r\nfunction Field(props) {\r\n  return <FormControl {...props} />;\r\n}\r\n\r\nexport default Field;\r\n","import React from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport Select from 'react-select';\r\nimport { capitalize } from 'lodash';\r\n\r\nfunction SelectField(props) {\r\n  const isInvalid = !!props.errors[props.name];\r\n  const isValid = props.submitted && !props.errors[props.name];\r\n\r\n  const fieldClass = isInvalid ? 'is-invalid' : isValid ? 'is-valid' : '';\r\n  const fieldStyles = {\r\n    control: (provided) =>\r\n      isInvalid\r\n        ? { ...provided, borderColor: '#dc3545' }\r\n        : isValid\r\n        ? { ...provided, borderColor: '#28a745' }\r\n        : { ...provided }\r\n  };\r\n\r\n  const handleChange = (value, action) => {\r\n    props.handleChange({ [action.name]: value });\r\n  };\r\n\r\n  return (\r\n    <Form.Group controlId={`${props.name}Select`}>\r\n      <Form.Label>\r\n        {capitalize(props.name)}\r\n        {props.required ? '*' : ''}\r\n      </Form.Label>\r\n      <Select\r\n        isMulti={props.isMulti}\r\n        name={props.name}\r\n        onChange={handleChange}\r\n        options={props.options[props.name]}\r\n        styles={fieldStyles}\r\n        className={fieldClass}\r\n        value={props.value}\r\n      />\r\n      <Form.Control.Feedback>Looks Good!</Form.Control.Feedback>\r\n      <Form.Control.Feedback type=\"invalid\">\r\n        {props.errors[props.name]}\r\n      </Form.Control.Feedback>\r\n    </Form.Group>\r\n  );\r\n}\r\n\r\nexport default SelectField;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCloudUploadAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport './Field.css';\r\n\r\nclass ImageField extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      images: [],\r\n      imagesUrls: [],\r\n      dragging: false\r\n    };\r\n    this.dropRef = React.createRef();\r\n    this.dragCounter = 0;\r\n  }\r\n  handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n  handleDragIn = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.dragCounter++;\r\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n      this.setState({ dragging: true });\r\n    }\r\n  };\r\n  handleDragOut = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.dragCounter--;\r\n    if (this.dragCounter === 0) {\r\n      this.setState({ dragging: false });\r\n    }\r\n  };\r\n  handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ dragging: false });\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      this.handleChange(e.dataTransfer.files);\r\n      e.dataTransfer.clearData();\r\n      this.dragCounter = 0;\r\n    }\r\n  };\r\n  componentDidMount() {\r\n    let div = this.dropRef.current;\r\n    div.addEventListener('dragenter', this.handleDragIn);\r\n    div.addEventListener('dragleave', this.handleDragOut);\r\n    div.addEventListener('dragover', this.handleDrag);\r\n    div.addEventListener('drop', this.handleDrop);\r\n  }\r\n  componentWillUnmount() {\r\n    let div = this.dropRef.current;\r\n    div.removeEventListener('dragenter', this.handleDragIn);\r\n    div.removeEventListener('dragleave', this.handleDragOut);\r\n    div.removeEventListener('dragover', this.handleDrag);\r\n    div.removeEventListener('drop', this.handleDrop);\r\n  }\r\n  handleChange = (files) => {\r\n    if ([...files].some((file) => !file.name.match(/.(jpg|jpeg|png|gif)$/i))) {\r\n      return;\r\n    }\r\n    const newImgsList = [...this.state.images, ...files];\r\n    const newImgsUrls = [\r\n      ...this.state.imagesUrls,\r\n      ...[...files].map((file) => URL.createObjectURL(file))\r\n    ];\r\n    this.setState({\r\n      images: newImgsList,\r\n      imagesUrls: newImgsUrls\r\n    });\r\n    this.props.handleChange({\r\n      [this.props.name]: newImgsList\r\n    });\r\n  };\r\n  handleDelete = (idx) => {\r\n    const newImgsList = this.state.images.filter((_, i) => i !== idx);\r\n    const newUrlsList = this.state.imagesUrls.filter((_, i) => i !== idx);\r\n    this.setState({\r\n      images: newImgsList,\r\n      imagesUrls: newUrlsList\r\n    });\r\n    this.props.handleChange({\r\n      [this.props.name]: newImgsList\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"form-group mb-2\">\r\n        <label>Post Images</label>\r\n        <div className=\"imageField border rounded p-3 mb-2\" ref={this.dropRef}>\r\n          {this.state.dragging && <div className=\"imageField__hover\"></div>}\r\n          <div className=\"d-flex\">\r\n            {this.state.imagesUrls.length ? (\r\n              this.state.imagesUrls.map((imageUrl, i) => (\r\n                <div\r\n                  key={i}\r\n                  className=\"imageField__image mr-2\"\r\n                  style={{ backgroundImage: `url(${imageUrl})` }}\r\n                >\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-sm btn-danger m-1\"\r\n                    onClick={() => this.handleDelete(i)}\r\n                  >\r\n                    <FontAwesomeIcon icon={faTimes} />\r\n                  </button>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"imageField__image w-100 d-flex align-items-center justify-content-center\">\r\n                <FontAwesomeIcon icon={faCloudUploadAlt} className=\"h1\" />\r\n                <span className=\"h4 text-muted ml-3\">Upload images</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <input\r\n          type=\"file\"\r\n          multiple={true}\r\n          className=\"d-none\"\r\n          id=\"imageFieldInput\"\r\n          onChange={(e) => this.handleChange(e.target.files)}\r\n        />\r\n        <label\r\n          htmlFor=\"imageFieldInput\"\r\n          className=\"btn btn-white border w-100\"\r\n        >\r\n          Browse\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageField;\r\n","import React from 'react';\r\n\r\nexport function SpinnerWithText(props) {\r\n  return (\r\n    <div\r\n      className={`d-flex align-items-center justify-content-center ${props.className}`}\r\n    >\r\n      <div className=\"spinner-border\" />\r\n      <span className=\"h5 text-muted m-0 ml-2\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Spinner(props) {\r\n  return (\r\n    <div\r\n      className={`d-flex align-items-center justify-content-center h-100 ${props.className}`}\r\n    >\r\n      <div\r\n        className={`spinner-border spinner-border-sm my-1 ${props.variant}`}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Spinner } from '../loaders/Loaders';\r\n\r\nexport function BackButton(props) {\r\n  return (\r\n    <NavLink to={props.to} className=\"btn btn-white border\">\r\n      <FontAwesomeIcon icon={faChevronLeft} className=\"mr-2\" />\r\n      <span>Back</span>\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport function LoadButton({ variant, className, ...props }) {\r\n  return (\r\n    <button className={`btn btn-${variant} ${className}`} {...props}>\r\n      {props.disabled ? <Spinner /> : props.text}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport function SubmitButton(props) {\r\n  return (\r\n    <div className=\"d-flex\">\r\n      <LoadButton\r\n        type=\"submit\"\r\n        variant=\"success\"\r\n        className=\"col-12 col-md-4 ml-md-auto\"\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Form } from 'react-bootstrap';\r\n// Posts Api\r\nimport { postsApi } from 'api/api';\r\n// Common\r\nimport Field from 'components/common/form/Field';\r\nimport SelectField from 'components/common/form/SelectField';\r\nimport ImageField from 'components/common/form/ImageField';\r\nimport { BackButton, SubmitButton } from 'components/common/buttons/Buttons';\r\n\r\nfunction PostForm({ handleSubmit, options, values, submitting, ...props }) {\r\n  return (\r\n    <Form className=\"col-12 p-0\" onSubmit={handleSubmit}>\r\n      <Field name=\"title\" required={true} {...props} />\r\n      <Field\r\n        type=\"textarea\"\r\n        name=\"content\"\r\n        rows={3}\r\n        required={true}\r\n        {...props}\r\n      />\r\n      <SelectField\r\n        isMulti={true}\r\n        name=\"categories\"\r\n        options={options}\r\n        {...props}\r\n      />\r\n      <SelectField\r\n        isMulti={false}\r\n        name=\"status\"\r\n        options={options}\r\n        value={values.status}\r\n        required={true}\r\n        {...props}\r\n      />\r\n      <ImageField name=\"images\" {...props} />\r\n      <SubmitButton text=\"Create\" disabled={submitting} />\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst initialPostState = {\r\n  values: {\r\n    title: '',\r\n    status: { label: 'published', value: 'P' },\r\n    content: '',\r\n    categories: [],\r\n    images: []\r\n  },\r\n  options: {},\r\n  errors: {},\r\n  submitted: false,\r\n  submitting: false\r\n};\r\n\r\nclass PostCreate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialPostState;\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    postsApi\r\n      .getSelectFieldsOptions(['status', 'categories'])\r\n      .then((options) => this.setState({ options }));\r\n  }\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.setState({ submitting: true });\r\n    postsApi\r\n      .createPost(this.state.values, this.state.options)\r\n      .then(() => {\r\n        this.redirect = true;\r\n        this.setState({\r\n          ...initialPostState,\r\n          submitted: true,\r\n          submitting: false\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          errors: error.response.data,\r\n          submitted: true,\r\n          submitting: false\r\n        });\r\n      });\r\n  };\r\n  handleChange = (newValue) => {\r\n    this.setState({ values: { ...this.state.values, ...newValue } });\r\n  };\r\n  render() {\r\n    if (this.redirect) {\r\n      return <Redirect to=\"/posts\" />;\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <BackButton to=\"/posts\" />\r\n        </div>\r\n        <hr className=\"row\" />\r\n        <div className=\"row\">\r\n          <PostForm\r\n            handleSubmit={this.handleSubmit}\r\n            handleChange={this.handleChange}\r\n            {...this.state}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostCreate;\r\n","import React, { Component } from 'react';\r\nimport BackgroundImageOnLoad from 'background-image-on-load';\r\nimport { Spinner } from '../loaders/Loaders';\r\n\r\nclass LoadImage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loaded: false };\r\n  }\r\n  handleLoad = () => {\r\n    this.setState({ loaded: true });\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          height: this.props.height || '14em',\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          backgroundImage: `url(${this.props.src})`\r\n        }}\r\n      >\r\n        <BackgroundImageOnLoad\r\n          src={this.props.src}\r\n          onLoadBg={this.handleLoad}\r\n        />\r\n        {!this.state.loaded && <Spinner variant=\"text-white\" />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoadImage;\r\n","import React, { Component } from 'react';\r\nimport { postsApi } from 'api/api';\r\nimport { BackButton } from 'components/common/buttons/Buttons';\r\nimport { SpinnerWithText } from 'components/common/loaders/Loaders';\r\nimport LoadImage from 'components/common/images/LoadImage';\r\n\r\nclass PostDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { postData: {}, loading: false };\r\n  }\r\n  componentDidMount() {\r\n    const postId = this.props.match.params.postId;\r\n    this.setState({ loading: true });\r\n    postsApi\r\n      .getPost(postId)\r\n      .then((postData) => this.setState({ postData, loading: false }));\r\n  }\r\n  render() {\r\n    const lastUpdated = new Date(this.state.postData.updated);\r\n    const lastUpdatedDate = lastUpdated.toLocaleDateString('en-GB');\r\n    const lastUpdatedTime = lastUpdated.toTimeString().slice(0, 8);\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <BackButton to=\"/posts\" />\r\n        </div>\r\n        <hr className=\"row\" />\r\n        <div className=\"row card mb-3\">\r\n          {!this.state.loading ? (\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-md-4\">\r\n                <LoadImage\r\n                  src={\r\n                    this.state.postData.images &&\r\n                    this.state.postData.images[0].large\r\n                  }\r\n                  height={'20em'}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{this.state.postData.title}</h5>\r\n                  <p className=\"card-text\">{this.state.postData.content}</p>\r\n                  <p className=\"card-text\">\r\n                    <small className=\"text-muted\">\r\n                      Last updated {lastUpdatedDate}, {lastUpdatedTime}\r\n                    </small>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <SpinnerWithText className=\"col-12 py-5\" />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PostDetail;\r\n","const SET_POSTS = 'SET-POSTS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nconst initialState = {\r\n  posts: []\r\n};\r\n\r\nfunction postsReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.posts\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.reduce((acc, post) => {\r\n          if (post.id !== action.postId) {\r\n            acc.push(post);\r\n          }\r\n          return acc;\r\n        }, [])\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function setPosts(posts) {\r\n  return { type: SET_POSTS, posts };\r\n}\r\nexport function deletePost(postId) {\r\n  return { type: DELETE_POST, postId };\r\n}\r\n\r\nexport default postsReducer;\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Carousel } from 'react-bootstrap';\r\n// Posts Api\r\nimport { postsApi } from 'api/api';\r\n// AC\r\nimport { deletePost } from 'redux/posts-reducer';\r\n// Assets\r\nimport postEmpty from 'assets/img/postEmpty.jpg';\r\n// Common\r\nimport { LoadButton } from 'components/common/buttons/Buttons';\r\nimport LoadImage from 'components/common/images/LoadImage';\r\n\r\nconst mapDispatchToProps = {\r\n  deletePost\r\n};\r\n\r\nclass PostCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { deleting: false };\r\n  }\r\n  onDelete = () => {\r\n    this.setState({ deleting: true });\r\n    postsApi.deletePost(this.props.id).then(() => {\r\n      this.props.deletePost(this.props.id);\r\n      this.setState({ deleting: false });\r\n    });\r\n  };\r\n  render() {\r\n    const categoriesList = this.props.categories.map((category, i) =>\r\n      !i ? category.name : `, ${category.name}`\r\n    );\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-img-top\" style={{ backgroundColor: '#2b2b2b' }}>\r\n          {this.props.images.length === 0 ? (\r\n            <LoadImage src={postEmpty} />\r\n          ) : this.props.images.length === 1 ? (\r\n            <LoadImage src={this.props.images[0].small} />\r\n          ) : (\r\n            <Carousel interval={null}>\r\n              {this.props.images.map((image, i) => (\r\n                <Carousel.Item key={i}>\r\n                  <LoadImage src={image.small} />\r\n                </Carousel.Item>\r\n              ))}\r\n            </Carousel>\r\n          )}\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">{this.props.title}</h5>\r\n          <p className=\"card-text\">{this.props.content}</p>\r\n        </div>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            Owner: {this.props.owner.username}\r\n          </li>\r\n          <li className=\"list-group-item\">Category: {categoriesList}</li>\r\n        </ul>\r\n        <div className=\"card-body d-flex\">\r\n          <div className=\"col-6 p-0 pr-1\">\r\n            <NavLink\r\n              to={`posts/${this.props.id}`}\r\n              className=\"btn btn-outline-dark w-100\"\r\n            >\r\n              Open\r\n            </NavLink>\r\n          </div>\r\n          <div className=\"col-6 p-0 pl-1\">\r\n            <LoadButton\r\n              text=\"Delete\"\r\n              variant=\"outline-danger\"\r\n              disabled={this.state.deleting}\r\n              onClick={this.onDelete}\r\n              className=\"w-100\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(PostCard);\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQBAMAAACAGwOrAAAAG1BMVEUvLy9mZmY1NTU8PDxKSkpfX19RUVFYWFhDQ0NJKxXsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADtElEQVR4nO3bTXPbRBwHYNVxcI5dWsc9KkMLPTbt8HKMGZdzXGCmxwT6whHP8AEc6BQ+Npa0siU3cS068Qt6nkM22rU8O79Z/S1tnCQBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABg4zrP5tJtz2XndcPc2bbnsvP+S1jPbnE+O60bGp9yEJ7cwkT2gbAaEFYDwmpAWA0IqwFhNSCsBpbCGqXJN+P+L7PfHk7CH2nZd/Q69H8tX7MI691Z2dcZpbc80V2wFFaYfpXdzE+To6x5EPuOxtnRj9lBZzT6IbwazaRJcnWvPO+z/gbnvDXLYf05fpk+HN9LrgZPvxgWSyhML/vfp48vZxFmy6o0GzsclOfdub/RWW/Jclh/H89+PuofZE+KnfF53vc+j6kzyRZabWV1QxrPu/p8YzPeouWwJhdJtny+zldKcZmFyYt8rNdP83ZRszrzh+/J77c8z53QDeV21tPsMBS1Zzy+yJo7x3lfDKcT8s7qp+HleRKHppuZ7nYttmjytRSKkj0srq9eXpNCWY+Gd/OmEtbpg/gurajvs7B+jn7KDkOxVK6O42Dedze+9qSIphJWL1b4w+PNzHbLlmvWWd7EFRPDuoiDMZJKWEexwp+2or7fFFZxNRZZzKt4vJmq3sHHINtR3z+8Kc2beljT+murYRVlrCX1vVFY8aKrhlWUsZbU90ZhHXwYVlHhW1LfG4b1pNJUulpS3z91ZSX53etlO+r7p9asosK3pL43DCtvamFlFf6o+QbiflonrLM4eM19Vt7Xa0l9bxRWfLiphZUdnLSkvq8VVlm+T4on6voe/OSiNfV9rbDKzeO4w1cPa9Y5nt7mDHfIOmGVm8fjYgXVH24O77emvq8VVnxa7pYrqvblpG6/NfV9rbCeF2kMy03AyXnljE5Y/I3n/26xrZx/TfLasP4KL2fNt/NCP8zC65TvMAltqe/L3/y7/qb0URi8eR3mV9thGLx6Oz86bcv9+5phJc9nw4P5Z2DncnZYiW6D0915WYCPR/+kla7vKodt2Z9Zz0cus7bsz6znI2G1ZP99TavDau8XkK61OqzeYNVo66wOa6hkVa0M68B/sdSsDOvUVVizKqwvw4uNzWMv3BzWu7fhON3cRPbBzWGNK89A5G7+r803v904BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7Kt/AQMcfWRqVnDuAAAAAElFTkSuQmCC\"","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { postsApi } from 'api/api';\r\nimport { setPosts } from 'redux/posts-reducer';\r\nimport PostCard from './PostCard';\r\nimport { SpinnerWithText } from 'components/common/loaders/Loaders';\r\n\r\nclass PostsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: false };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    postsApi.getPosts().then((posts) => {\r\n      this.props.setPosts(posts);\r\n      this.setState({ loading: false });\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <NavLink to=\"/posts/add\" className=\"btn btn-dark ml-auto\">\r\n            Add post\r\n          </NavLink>\r\n        </div>\r\n        <hr className=\"row my-3\" />\r\n        <div className=\"row\">\r\n          {!this.state.loading ? (\r\n            this.props.posts.map((post) => (\r\n              <div key={post.id} className=\"col-12 col-md-6 col-lg-4 mb-2\">\r\n                <PostCard {...post} />\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <SpinnerWithText className=\"col-12 mt-4\" />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setPosts\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(PostsList);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\nimport PostCreate from './PostCreate/PostCreate';\r\nimport PostDetail from './PostDetail/PostDetail';\r\nimport PostsList from './PostsList/PostsList';\r\n\r\nfunction Posts(props) {\r\n  return (\r\n    <>\r\n      <div className=\"row\">\r\n        <span className=\"h2 mb-1\">Posts</span>\r\n      </div>\r\n      <hr className=\"row my-3\" />\r\n      <Route\r\n        exact\r\n        path=\"/posts\"\r\n        render={() => <PostsList {...props.postsList} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path=\"/posts/add\"\r\n        render={() => <PostCreate {...props.postForm} />}\r\n      />\r\n      <Route exact path=\"/posts/:postId(\\d+)\" component={PostDetail} />\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  postForm: state.postsData.postForm,\r\n  postsList: { posts: state.postsData.posts }\r\n});\r\n\r\nexport default connect(mapStateToProps)(Posts);\r\n","const SET_CATEGORIES = 'SET-CATEGORIES';\r\n\r\nconst initialState = {\r\n  categories: []\r\n};\r\n\r\nfunction categoriesReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: action.categories\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function setCategories(categories) {\r\n  return { type: SET_CATEGORIES, categories };\r\n}\r\n\r\nexport default categoriesReducer;\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n// Categories Api\r\nimport { categoriesApi } from 'api/api';\r\n// AC\r\nimport { setCategories } from 'redux/categories-reducer';\r\nimport { SpinnerWithText } from 'components/common/loaders/Loaders';\r\n\r\nclass CategoriesList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { loading: false };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    categoriesApi.getCategories().then((response) => {\r\n      this.props.setCategories(response.data);\r\n      this.setState({ loading: false });\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        {!this.state.loading ? (\r\n          this.props.categories.map((category) => (\r\n            <div key={category.id} className=\"col-12 mb-2\">\r\n              <div className=\"card\">\r\n                <h5 className=\"card-header\">ID: {category.id}</h5>\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{category.name}</h5>\r\n                  <p className=\"card-text\">{category.slug}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <SpinnerWithText className=\"col-12 mt-4\" />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  setCategories\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(CategoriesList);\r\n","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route } from 'react-router-dom';\r\nimport CategoriesList from './CategoriesList/CategoriesList';\r\n\r\nfunction mapStateToProps(state) {\r\n  return state.categoriesData;\r\n}\r\n\r\nclass Posts extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"row\">\r\n          <span className=\"h2 mb-1\">Categories</span>\r\n        </div>\r\n        <hr className=\"row my-3\" />\r\n        <Route\r\n          exact\r\n          path=\"/categories\"\r\n          render={() => <CategoriesList categories={this.props.categories} />}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Posts);\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport Posts from './posts/Posts';\r\nimport Categories from './categories/Categories';\r\n\r\nfunction Content(props) {\r\n  return (\r\n    <div className=\"container py-3 py-md-4 px-4 px-md-0\">\r\n      <Route exact path=\"/\" render={() => 'Blog home page'} />\r\n      <Route path=\"/posts\" render={() => <Posts />} />\r\n      <Route path=\"/categories\" render={() => <Categories />} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n","import { Component } from 'react';\r\nimport './Header.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBlog } from '@fortawesome/free-solid-svg-icons';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n        <NavLink className=\"navbar-brand px-2\" exact to=\"/\">\r\n          <FontAwesomeIcon icon={faBlog} />\r\n        </NavLink>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarContent\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarContent\">\r\n          <ul className=\"navbar-nav mr-auto\">\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" exact to=\"/\">\r\n                Home\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/posts\">\r\n                Posts\r\n              </NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink className=\"nav-link\" to=\"/categories\">\r\n                Categories\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import './App.css';\r\nimport Content from './components/content/Content';\r\nimport Header from './components/header/Header';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Content />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport postsReducer from './posts-reducer';\r\nimport categoriesReducer from './categories-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  postsData: postsReducer,\r\n  categoriesData: categoriesReducer\r\n});\r\n\r\nlet store = createStore(reducers);\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// react-router-dom\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\n// Bootstrap import\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\n// react-redux\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <HashRouter basename=\"/\">\r\n      <App />\r\n    </HashRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n"],"sourceRoot":""}